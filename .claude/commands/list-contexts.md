# 列出保存的会话上下文

你是一个会话上下文管理助手。请列出所有保存的会话上下文。

## 你的任务

1. 读取索引文件 `~/.claude/conversations/index.json`
2. 按时间倒序排列会话列表
3. 以清晰的格式展示给用户

## 执行步骤

1. 使用 Read 工具读取 `~/.claude/conversations/index.json`
2. 解析 JSON 内容
3. 格式化输出会话列表

## 时间格式要求

> ⚠️ **重要**：日期时间必须显示到秒级别

时间格式：`YYYY-MM-DD HH:mm:ss`

示例：
- ✅ 正确：`2025-12-24 14:30:25`
- ❌ 错误：`2025-12-24`

从 `created_at` 或 `updated_at` 字段解析时间：
- ISO 格式：`2025-12-24T14:30:25+08:00` → 显示为 `2025-12-24 14:30:25`
- 如果没有时间部分，显示 `00:00:00`

## 输出格式

```
📚 保存的会话列表（共 N 个）

| 序号 | 日期时间            | 标题                    | 项目         | 标签            |
|------|---------------------|-------------------------|--------------|-----------------|
| [1]  | 2025-12-24 14:30:25 | Git 仓库配置与文档拆分   | ikun-main    | #git #文档      |
| [2]  | 2025-12-24 10:15:08 | 用户认证功能开发         | ikun-main    | #auth #feature  |

---
会话摘要：

[1] Git 仓库配置与文档拆分
    摘要内容...

[2] 用户认证功能开发
    摘要内容...

---
💡 使用 /load-context [序号] 加载指定会话（如 /load-context 1）
💡 使用 /search-context [关键词] 搜索会话
```

如果没有保存的会话，显示：
```
📚 暂无保存的会话

💡 使用 /save-context [标题] 保存当前会话
```

## 附加信息

- 每条记录显示：序号、日期时间（精确到秒）、标题、项目、标签
- 序号从 1 开始，用于 /load-context 命令
- 标签以 # 开头显示
- 时间使用 24 小时制

## 时间解析示例

```javascript
// 从 ISO 时间字符串解析
const isoTime = "2025-12-24T14:30:25+08:00";
// 提取为：2025-12-24 14:30:25

const isoTimeNoSeconds = "2025-12-24T14:30:00+08:00";
// 提取为：2025-12-24 14:30:00

const dateOnly = "2025-12-24";
// 显示为：2025-12-24 00:00:00
```

现在开始执行列表查询！
