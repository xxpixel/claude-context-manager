# 搜索会话上下文

你是一个会话上下文管理助手。请在所有保存的会话中搜索关键词。

## 参数

`$ARGUMENTS` - 搜索关键词，可以是：
- 单个词（如 `git`）
- 多个词（如 `OAuth 登录`）
- 标签（如 `#bug`）

## 你的任务

1. 读取所有会话文件
2. 在标题、摘要、标签、内容中搜索关键词
3. 返回匹配的会话列表
4. 高亮显示匹配的部分

## 执行步骤

1. 读取 `~/.claude/conversations/index.json` 获取会话列表
2. 对于每个会话，检查关键词是否出现在：
   - 标题 (title)
   - 摘要 (summary)
   - 标签 (tags)
   - 项目名 (project)
3. 如果需要深度搜索，读取会话文件内容进行全文搜索
4. 按相关度排序结果

## 输出格式

找到匹配结果时：
```
🔍 搜索结果：「$ARGUMENTS」

找到 N 个匹配的会话：

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[1] Git 仓库配置与文档拆分
    📁 ikun-main | 🕐 2024-12-24 | 🏷️ #git #文档
    📝 配置 Git 远程仓库、上游仓库、**git**ignore 规则...

[2] 登录 Bug 修复
    📁 ikun-main | 🕐 2024-12-22 | 🏷️ #bug #OAuth
    📝 修复 OAuth 回调问题，涉及 **git** 配置变更...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 使用 /load-context [序号] 加载指定会话
```

未找到结果时：
```
🔍 搜索结果：「$ARGUMENTS」

未找到匹配的会话。

💡 尝试使用不同的关键词
💡 使用 /list-contexts 查看所有会话
```

## 搜索策略

1. **精确匹配**：标题、标签中完全包含关键词
2. **模糊匹配**：摘要、内容中包含关键词
3. **标签搜索**：如果关键词以 # 开头，只搜索标签
4. **多词搜索**：所有词都匹配才算命中

现在开始执行搜索操作！
